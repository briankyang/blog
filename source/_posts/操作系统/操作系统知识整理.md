---
title: 操作系统知识整理
date: 2020-03-21 16:46:51
tags:
---

# 知识梳理

## 内存管理

分页内存管理

## 进程、线程

##### 进程和线程的主要区别

操作系统资源分配的基本单位

进程都有都有独立的代码空间和数据空间（程序上下文），进程之间切换会有较大的开销，线程可以看作轻量级的进程，统一类线程共享代码和数据空间，每个线程都有自己独立的运行栈和程序计数器，线程之间切换开销小

进程执行的上下文切换开销大，线程小

以前执行程序阻塞时，cpu会空闲等待，浪费性能。

后来出现多任务操作系统，可以对程序进行切换，当遇到阻塞操作时，cpu可以去执行另外的程序，提高了cpu的利用率。

多线程相当于应用程序内部的多任务，当运行中的线程阻塞时，可以切换到其他线程执行，提高了cpu的资源利用率

### 进程切换和线程切换的区别：

最主要的区别在于进程切换涉及到虚拟空间的切换，而线程切换则不会。

因为每个进程都有自己的虚拟空间，而线程时共享所在进程的虚拟空间地址，因此同一进程中的线程进行切换时不会涉及虚拟空间地址的转换。

进程切换会使TLB缓存失效，TLB用来加速页表查找，故查找页表变慢后就会让虚拟地址转换为物理地址变慢，表现出来就是程序运行变慢，而线程切换则不会导致TLB失效，因为线程切换无需切换地址空间

java中的线程切换：

要保存程序状态字

多线程编程需要解决的核心问题就是互斥资源的访问以及如何高效的利用cpu

## 程序执行时操作系统会做的事情

- 检查是否为可执行文件

- 
